<div class="container">
  <div ng-if="status.data_loaded">
    <ul class="nav nav-tabs nav-justified">
      <li role="presentation"
          ng-class="{active:isCircuitSelected(null)}">
        <a ng-click="selectCircuit(null)" >
          All races</a></li>

      <li ng-repeat="(id, circuit) in circuits"
          ng-class="{active:isCircuitSelected(id)}"
              >
        <a ng-click="selectCircuit(id)" >
          {{circuit}}</a></li>
    </ul>

    <div class="row">
      <div ng-show="!isCircuitSelected(null)">
        <button class="btn btn-default" ng-click="showInfoCircuit()">View Circuit info</button>
      </div>
      <h4>Select your race</h4>
      <div class = "col-md-4">

        <ul class="nav nav-pills nav-stacked">
          <li ng-repeat="(id, race) in races"
              ng-class="{active:isRaceSelected(race)}"
                  >
            <a ng-click="selectRace(race)" >
              {{race.name}}</a></li>
        </ul>
      </div>

      <div class="col-md-8">
        <div ng-show="show_info == 'circuit'">
          <h4>Information about {{circuit_info.name}}</h4>

        </div>
        <div ng-if="show_info == 'race'">
          <h4>Information about: {{selected_race.name}}</h4>

          <ul class="nav nav-pills">
            <li ng-repeat="(label, name) in race_options"
                ng-class="{active: show_info_race == label}">
              <a ng-click="setInfoRace(label)">{{name}}</a>
            </li>
          </ul>

          <div ng-if="isInfoRace('information')">
            <dl ng-repeat="race_data in info_values">
              <dt>{{race_data.name}}</dt>
              <dd race-element >{{selected_race[race_data.value]|race_filter:race_data.filter}}

              </dd>
            </dl>
          </div>
          <!--<div ng-show="isSelectedTab('HISTOGRAM')">&ndash;&gt;
            <h3>This is the histogram</h3>
            <canvas id="bar" class="chart chart-bar" data="histogram.datasets"
                    labels="histogram.labels"></canvas>
          </div>-->
        </div>

      </div>

    </div>


  </div>
  <div ng-if="status.data_loaded == false">
    <div class="panel panel-default">
      <div class="panel-heading"><div class="panel-heading">Loading data...</div>
  </div>
  </div>
  <div class="panel panel-default">
    <div class="panel-heading">Last query:</div>
    <div class="panel-body">
      <json-formatter json="last_query" open="1"></json-formatter>
    </div>
  </div>


</div>
